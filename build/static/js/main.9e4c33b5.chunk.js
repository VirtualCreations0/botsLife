(this["webpackJsonprobot-mafia-club"]=this["webpackJsonprobot-mafia-club"]||[]).push([[0],{175:function(e,t,n){},251:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return B}));var r=n(4),s=n(13),o=n(1),c=n.n(o),a=n(95),i=n(167),l=n(164),u=n(3),d=(n(53),n(94)),b=n(2),f=n(268),p=n(46),g=(n(175),n(128)),j=n(491),h=n(492),x=n(266),m=n(174),y=n(168),O=n(78),k=n.n(O),w=(n(123),n(446),n(252)),v=n(6),P=n(5),S=P.struct,C=(P.u32,P.ns64,P.nu64),T=(P.nu64be,P.u8),A="https://bots-life.herokuapp.com/",B=function(){Object(i.b)().connection;var t=Object(l.b)(),n=t.publicKey,o=t.sendTransaction,O=Object(b.useState)(5e3),P=Object(s.a)(O,2),B=(P[0],P[1],Object(b.useState)([])),K=Object(s.a)(B,2),W=(K[0],K[1]),N=Object(b.useState)([]),E=Object(s.a)(N,2),R=E[0],L=E[1],I=Object(b.useState)(!1),D=Object(s.a)(I,2),Z=(D[0],D[1]),G=Object(b.useState)(""),M=Object(s.a)(G,2),z=M[0],F=M[1],H=Object(b.useState)(!1),Y=Object(s.a)(H,2),U=(Y[0],Y[1]),X=Object(b.useState)(),J=Object(s.a)(X,2),V=J[0],q=J[1],Q=Object(b.useState)(!1),_=Object(s.a)(Q,2),$=_[0],ee=_[1],te=Object(b.useState)(!1),ne=Object(s.a)(te,2),re=ne[0],se=ne[1];Object(b.useEffect)((function(){n&&(p.b.success("Connected",{position:"bottom-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),oe(),se(!0))}),[n]),console.log(n,"publicKey");var oe=function(){var e=Object(r.a)(c.a.mark((function e(){var t,s,o,a,i,l,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F("Fetching NFTs...."),t=Object(g.createConnectionConfig)(u.clusterApiUrl("devnet")),s=n,o=Object(g.isValidSolanaAddress)(s),console.log("result",o),e.next=7,Object(g.getParsedNftAccountsByOwner)({publicAddress:n,connection:t,serialization:!0});case 7:return a=e.sent,console.log(a,"nfts"),W(a),i="5k2EPeEp4ZZaRKdW7uDvTxwoRgYkatk15LEhRPYXhaxD",console.log(a.filter((function(e){return e.data.creators[0].address===i})),"specific CM nft's"),l=a.filter((function(e){return e.data.creators[0].address===i})),d=[],e.next=16,Promise.all(l.map(function(){var e=Object(r.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.data.uri);case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,d.push({name:t.data.name,mint:t.mint,src:r.image});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 16:setTimeout((function(){console.log(d,"imageResult"),L(d),Z(!0),F("")}),5e3);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(r.a)(c.a.mark((function e(t,n,r,s){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.a.post("".concat(A,"/stake"),{wallet:t,nftAddress:n,url:r,name:s},{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS"}}).then((function(e){console.log("Response: ",e),le(t),ge()})).catch((function(e){console.log("Error:",e),ge()}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r,s){return e.apply(this,arguments)}}(),ae=function(){var t=Object(r.a)(c.a.mark((function t(n,r,s,o,i){var l,b,f,g,j,h,x,m,y,O,k,w,v,P,A,B,K,W,N,E,R,L,I,D,Z;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(je(),U(!0),console.log("Check"),console.log(n,"nft"),console.log(r,"publicKey"),console.log(s,"sendTransaction"),r){t.next=8;break}throw new a.f;case 8:return l=new u.PublicKey("3wVscJPJ59dbpmCzkvNEXuYc8EX6hXsQXkBeeTk1sebY"),b=new u.PublicKey(n),f=new u.PublicKey("SysvarRent111111111111111111111111111111111"),g=new u.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),j=new u.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),h=new u.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),new u.PublicKey("cndy3Z4yapfJBmL3ShUp5exZKqR3z33thTzeNMm2gRZ"),x=new u.PublicKey("5k2EPeEp4ZZaRKdW7uDvTxwoRgYkatk15LEhRPYXhaxD"),m=new u.Connection(u.clusterApiUrl("devnet"),"confirmed"),new u.PublicKey("C44md6V2ixneLTfnZMcNnFrYL3oFhgVhmjTCc1dwyzf7"),t.next=20,u.PublicKey.findProgramAddress([e.from("metadata"),h.toBuffer(),b.toBuffer()],h);case 20:return y=(y=t.sent)[0],O=(new TextEncoder).encode("vault"),t.next=25,u.PublicKey.findProgramAddress([O],l);case 25:return k=(k=t.sent)[0],t.next=29,u.PublicKey.findProgramAddress([b.toBuffer()],l);case 29:return w=t.sent,v=w[0],t.next=33,u.PublicKey.findProgramAddress([r.toBuffer(),g.toBuffer(),b.toBuffer()],j);case 33:return P=t.sent[0],t.next=36,u.PublicKey.findProgramAddress([k.toBuffer(),g.toBuffer(),b.toBuffer()],j);case 36:return A=t.sent[0],t.next=39,d.Metadata.getPDA(new u.PublicKey(b));case 39:return B=t.sent,t.next=42,d.Metadata.load(m,B);case 42:return K=t.sent,console.log("tokenMetadata",K),t.next=46,u.PublicKey.findProgramAddress([e.from("whitelist"),x.toBuffer()],l);case 46:return W=(W=t.sent)[0],N=[{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!1},{pubkey:y,isSigner:!1,isWritable:!1},{pubkey:k,isSigner:!1,isWritable:!1},{pubkey:P,isSigner:!1,isWritable:!0},{pubkey:A,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!1},{pubkey:u.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:j,isSigner:!1,isWritable:!1},{pubkey:v,isSigner:!1,isWritable:!0},{pubkey:W,isSigner:!1,isWritable:!0}],E=new u.Transaction({feePayer:r}),R=S([T("instruction"),C("nft")]),L=e.alloc(1024),I=R.encode({instruction:1,nftPubkey:b},L),L=L.slice(0,I),E.add(new u.TransactionInstruction({keys:N,programId:l,data:L})),t.prev=55,t.next=58,s(E,m);case 58:return D=t.sent,t.next=61,m.confirmTransaction(D,"processed");case 61:(Z=t.sent).value.err?(U(!1),console.log("STAKING",Z.value.err),p.b.error("Error! ".concat(Z.value.err),{position:"bottom-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),ge()):(ce(r.toString(),n,o,i),console.log("transaction confirmed STAKING",D),U(!1),oe(),p.b.success("Success! Staked Successfully.",{position:"bottom-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),ge()),t.next=71;break;case 65:t.prev=65,t.t0=t.catch(55),console.log("error STAKING:",t.t0),U(!1),p.b.error("Error! ".concat(t.t0),{position:"bottom-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),ge();case 71:case"end":return t.stop()}}),t,null,[[55,65]])})));return function(e,n,r,s,o){return t.apply(this,arguments)}}(),ie=function(){var e=Object(r.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.a.delete("".concat(A,"/unstake/").concat(n),{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS"}}).then((function(e){console.log("Response: ",e),oe(),le(t)})).catch((function(e){console.log("Error:",e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),le=function(){var e=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.a.get("".concat(A,"/stakeData/").concat(t.toString()),{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS"}}).then((function(e){q(e.data),console.log(" getStakeData Response: ",e.data),U(!1)})).catch((function(e){console.log("Error:",e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(b.useEffect)((function(){n&&(console.log("Check"),le(n.toString()),ee(!0))}),[n]);var ue=function(){var t=Object(r.a)(c.a.mark((function t(n,r,s){var o,i,l,b,f,g,j,h,x,m,y,O,k,w,v,P,A,B,K,W,N,E,R,L,I,D,Z;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(U(!0),je(),console.log("Check"),r){t.next=5;break}throw new a.f;case 5:return o=new u.PublicKey("3wVscJPJ59dbpmCzkvNEXuYc8EX6hXsQXkBeeTk1sebY"),i=new u.PublicKey(n),l=new u.PublicKey("SysvarRent111111111111111111111111111111111"),b=new u.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),f=new u.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),g=new u.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),new u.PublicKey("cndy3Z4yapfJBmL3ShUp5exZKqR3z33thTzeNMm2gRZ"),j=new u.PublicKey("5k2EPeEp4ZZaRKdW7uDvTxwoRgYkatk15LEhRPYXhaxD"),h=new u.Connection(u.clusterApiUrl("devnet"),"confirmed"),x=new u.PublicKey("C44md6V2ixneLTfnZMcNnFrYL3oFhgVhmjTCc1dwyzf7"),t.next=17,u.PublicKey.findProgramAddress([e.from("metadata"),g.toBuffer(),i.toBuffer()],g);case 17:return m=(m=t.sent)[0],y=(new TextEncoder).encode("vault"),t.next=22,u.PublicKey.findProgramAddress([y],o);case 22:return O=(O=t.sent)[0],t.next=26,u.PublicKey.findProgramAddress([i.toBuffer()],o);case 26:return k=t.sent,w=k[0],t.next=30,u.PublicKey.findProgramAddress([r.toBuffer(),b.toBuffer(),i.toBuffer()],f);case 30:return v=t.sent[0],t.next=33,u.PublicKey.findProgramAddress([O.toBuffer(),b.toBuffer(),x.toBuffer()],f);case 33:return P=t.sent[0],t.next=36,u.PublicKey.findProgramAddress([O.toBuffer(),b.toBuffer(),i.toBuffer()],f);case 36:return A=t.sent[0],t.next=39,u.PublicKey.findProgramAddress([r.toBuffer(),b.toBuffer(),x.toBuffer()],f);case 39:return B=t.sent[0],t.next=42,d.Metadata.getPDA(new u.PublicKey(i));case 42:return K=t.sent,t.next=45,d.Metadata.load(h,K);case 45:return t.sent,t.next=48,u.PublicKey.findProgramAddress([e.from("whitelist"),j.toBuffer()],o);case 48:return W=(W=t.sent)[0],N=[{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:u.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:b,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:w,isSigner:!1,isWritable:!0},{pubkey:O,isSigner:!1,isWritable:!1},{pubkey:B,isSigner:!1,isWritable:!0},{pubkey:P,isSigner:!1,isWritable:!0},{pubkey:v,isSigner:!1,isWritable:!0},{pubkey:A,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:W,isSigner:!1,isWritable:!0},{pubkey:x,isSigner:!1,isWritable:!1}],E=new u.Transaction({feePayer:r}),R=S([T("instruction"),C("nft")]),L=e.alloc(1024),I=R.encode({instruction:2,nftPubkey:i},L),L=L.slice(0,I),E.add(new u.TransactionInstruction({keys:N,programId:o,data:L})),t.prev=57,t.next=60,s(E,h);case 60:return D=t.sent,t.next=63,h.confirmTransaction(D,"processed");case 63:(Z=t.sent).value.err?(U(!1),console.log("STAKING",Z.value.err),p.b.error("Error! ".concat(Z.value.err),{position:"bottom-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),ge()):(ie(r.toString(),n),U(!1),console.log("transaction confirmed STAKING",D),p.b.success("Success! Untaked Successfully.",{position:"bottom-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),ge()),t.next=73;break;case 67:t.prev=67,t.t0=t.catch(57),U(!1),console.log("error STAKING:",t.t0),p.b.error("Error! ".concat(t.t0),{position:"bottom-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),ge();case 73:case"end":return t.stop()}}),t,null,[[57,67]])})));return function(e,n,r){return t.apply(this,arguments)}}(),de=Object(b.useState)(!1),be=Object(s.a)(de,2),fe=be[0],pe=be[1],ge=function(){pe(!1)},je=function(){console.log("handle show called"),pe(!0)};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(w.a,{show:fe,handleClose:ge,string:"from 1"}),Object(v.jsx)("div",{style:{justifyContent:"center",display:"flex"}}),Object(v.jsx)(j.a,{className:"flex-container mt-5 ",style:{display:"flex"},children:Object(v.jsxs)(h.a,{children:[n&&R.length>0?Object(v.jsx)("h4",{className:"lower-content mb-3",children:"Bots Life Nfts in Wallet"}):Object(v.jsx)(v.Fragment,{children:n?Object(v.jsx)(v.Fragment,{children:R.length>0?Object(v.jsx)("h4",{className:"lower-content",children:"Checking Bots Life Nft in Wallet"}):Object(v.jsx)("h4",{className:"lower-content",children:"No Bots Life Nft in Wallet"})}):Object(v.jsx)("h4",{className:"lower-content",children:"Connect Wallet"})}),n&&(null===V||void 0===V?void 0:V.length)>0?null===V||void 0===V?void 0:V.map((function(e,t){return Object(v.jsxs)(x.a,{xs:12,sm:12,md:4,lg:4,xl:4,style:{paddingRight:"30px",marginBottom:"25px"},children:[$&&Object(v.jsx)("div",{style:{alignItems:"center",display:"flex",justifyContent:"left"},children:Object(v.jsx)(m.a,{animation:"border",variant:"light"})}),Object(v.jsx)(y.a,{style:{height:"auto",width:"200px"},src:e.url,onLoad:function(){return console.log("image is loaded"),void ee(!1)}}),Object(v.jsx)("p",{className:"mt-3 lower-content",style:{color:"white"},children:e.name},t),Object(v.jsx)(f.a,{onClick:Object(r.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ue(e.nftAddress,n,o);case 2:case"end":return t.stop()}}),t)}))),disabled:!n||!e.nftAddress,variant:"danger",style:{width:"200px",borderRadius:"5px",marginBottom:"5px"},children:"UNSTAKE"})]})})):null,n&&R.length>0?R.map((function(e,t){return Object(v.jsxs)(x.a,{xs:12,sm:12,md:4,lg:4,xl:4,style:{paddingRight:"30px",marginBottom:"25px"},children:[re&&Object(v.jsx)("div",{style:{alignItems:"center",display:"flex",justifyContent:"left"},children:Object(v.jsx)(m.a,{animation:"border",variant:"light"})}),Object(v.jsx)(y.a,{style:{height:"auto",width:"200px"},src:e.src,onLoad:function(){return console.log("image is loaded"),void se(!1)}}),Object(v.jsx)("p",{className:"mt-3 lower-content",style:{color:"white"},children:e.name},t),Object(v.jsx)(f.a,{onClick:Object(r.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae(e.mint,n,o,e.src,e.name);case 2:case"end":return t.stop()}}),t)}))),disabled:!n||!e.mint,variant:"danger",style:{width:"200px",borderRadius:"5px",marginBottom:"5px"},children:"STAKE"}),Object(v.jsx)("br",{})]})})):Object(v.jsxs)("p",{className:"mt-3 lower-content",style:{color:"white"},children:[" ",z]})]})})]})}}).call(this,n(10).Buffer)},252:function(e,t,n){"use strict";n(2);var r=n(267),s=n(174),o=n(6);t.a=function(e){return console.log(e,"props"),Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(r.a,{show:e.show,onHide:function(){e.handleClose()},dialogClassName:"modal-90w ","aria-labelledby":"example-custom-modal-styling-title",centered:!0,children:Object(o.jsx)(r.a.Body,{style:{backgroundColor:"black",display:"flex"},children:Object(o.jsxs)("div",{style:{alignItems:"center",display:"flex",justifyContent:"left"},children:[Object(o.jsx)(s.a,{animation:"border",variant:"light"}),Object(o.jsx)("span",{className:"text-light",children:"Proccessing Transaction..."})]})})})})}},275:function(e,t,n){},277:function(e,t){},280:function(e,t){},295:function(e,t){},296:function(e,t){},361:function(e,t){},363:function(e,t){},373:function(e,t){},375:function(e,t){},402:function(e,t){},404:function(e,t){},410:function(e,t){},422:function(e,t){},425:function(e,t){},446:function(e,t,n){"use strict";n(13),n(2),n(123),n(6)},450:function(e,t,n){},460:function(e,t){},461:function(e,t){},490:function(e,t,n){"use strict";n.r(t);var r=n(2),s=n.n(r),o=n(40),c=n.n(o),a=(n(275),n.p,n(175),n(13)),i=n(504),l=n(506),u=n(258),d=n(508),b=n(509),f=n(510),p=n(511),g=n(512),j=n(502),h=n(503),x=n(129),m=n(3),y=n(251),O=n(505),k=n(174),w=n(46),v=(n(4),n(1),n(491),n(507),n.p,n(450),n(78),n(6));n.p;var P=n.p+"static/media/bot_background.86e93812.jpg";n(451);var S=function(){var e=u.b.Devnet,t=Object(r.useMemo)((function(){return Object(m.clusterApiUrl)(e)}),[e]),n=Object(r.useMemo)((function(){return[Object(d.a)(),Object(b.a)(),Object(f.a)(),Object(p.a)({options:{clientId:"Get a client ID @ https://developer.tor.us"}}),Object(g.a)(),Object(j.a)({network:e}),Object(h.a)({network:e})]}),[e]);console.log(n,"wallets");var s=window.innerWidth;console.log(s,"width");var o=Object(r.useState)(!1),c=Object(a.a)(o,2),S=c[0];c[1];return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(i.a,{endpoint:t,children:Object(v.jsx)(l.a,{wallets:n,autoConnect:!0,children:Object(v.jsxs)(x.b,{children:[Object(v.jsxs)("div",{style:{background:"url(".concat(P,")"),backgroundRepeat:"no-repeat",backgroundSize:"contained",height:"50vh"},children:[Object(v.jsx)("h2",{className:"first-heading",style:{textAlign:"center",color:"white",fontSize:"50px"},children:"Welcome To The Bots Life Nft Staking!"}),Object(v.jsx)("div",{style:{display:"flex",alignItems:"center"},className:"mx-auto cs",children:Object(v.jsx)(O.a,{className:"mx-auto",style:{borderRadius:"10px",width:"25rem",display:"flex",justifySelf:"center",backgroundColor:"rgb(161, 96, 86)",border:"2px solid rgb(165, 96, 86)"},children:Object(v.jsx)(O.a.Body,{children:S?Object(v.jsx)("div",{style:{alignItems:"center",display:"flex",justifyContent:"center"},children:Object(v.jsx)(k.a,{animation:"border",variant:"light"})}):Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(O.a.Title,{style:{display:"flex",justifyContent:"space-around"},children:[" ",Object(v.jsx)(x.c,{style:{fontSize:s<=321?"11px":"15px",backgroundColor:"#4e44ce"}}),Object(v.jsx)(x.a,{onClick:function(){w.b.warning("Disconnected",{position:"bottom-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},style:{fontSize:s<=321?"11px":"15px",backgroundColor:"#4e44ce",marginLeft:"1px"}})]})})})})})]}),Object(v.jsx)(y.a,{})]})})})})};n(488);var C=function(){return Object(v.jsxs)("div",{className:" mb-5",children:[Object(v.jsx)(w.a,{position:"bottom-left",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,theme:"dark",pauseOnHover:!0}),Object(v.jsx)(S,{})]})};n(489);c.a.render(Object(v.jsx)(s.a.StrictMode,{children:Object(v.jsx)(C,{})}),document.getElementById("root"))}},[[490,1,2]]]);
//# sourceMappingURL=main.9e4c33b5.chunk.js.map