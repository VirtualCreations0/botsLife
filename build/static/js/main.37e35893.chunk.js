(this["webpackJsonpbot-life-nfts"]=this["webpackJsonpbot-life-nfts"]||[]).push([[0],{182:function(e,t,n){},276:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return B}));var r=n(4),s=n(13),o=n(1),c=n.n(o),i=n(102),a=n(174),l=n(171),u=n(3),d=(n(55),n(101)),b=n(2),f=n(294),p=n(47),g=(n(182),n(134)),j=n(543),x=n(544),h=n(292),m=n(181),y=n(175),O=n(83),v=n.n(O),k=(n(129),n(484),n(278)),w=n(6),P=n(5),S=P.struct,C=(P.u32,P.ns64,P.nu64),K=(P.nu64be,P.u8),A="https://bots-life.herokuapp.com",B=function(){Object(a.b)().connection;var t=Object(l.b)(),n=t.publicKey,o=t.sendTransaction,O=Object(b.useState)(5e3),P=Object(s.a)(O,2),B=(P[0],P[1],Object(b.useState)([])),T=Object(s.a)(B,2),W=(T[0],T[1]),N=Object(b.useState)([]),E=Object(s.a)(N,2),H=E[0],L=E[1],R=Object(b.useState)(!1),I=Object(s.a)(R,2),M=(I[0],I[1]),q=Object(b.useState)(""),G=Object(s.a)(q,2),z=G[0],D=G[1],U=Object(b.useState)(!1),F=Object(s.a)(U,2),J=(F[0],F[1]),V=Object(b.useState)(),Z=Object(s.a)(V,2),Q=Z[0],X=Z[1],Y=Object(b.useState)(!1),_=Object(s.a)(Y,2),$=_[0],ee=_[1],te=Object(b.useState)(!1),ne=Object(s.a)(te,2),re=ne[0],se=ne[1];Object(b.useEffect)((function(){n&&(p.b.success("Connected",{position:"bottom-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),oe(),se(!0))}),[n]),console.log(n,"publicKey");var oe=function(){var e=Object(r.a)(c.a.mark((function e(){var t,s,o,i,a,l,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D("Fetching NFTs...."),t=Object(g.createConnectionConfig)(u.clusterApiUrl("devnet")),s=n,o=Object(g.isValidSolanaAddress)(s),console.log("result",o),e.next=7,Object(g.getParsedNftAccountsByOwner)({publicAddress:n,connection:t,serialization:!0});case 7:return i=e.sent,console.log(i,"nfts"),W(i),a="BrX5Kco4KM5upxYwU5q7KE8JrH2eDxD7WKjH1qr7TWVm",console.log(i.filter((function(e){return e.data.creators[0].address===a})),"specific CM nft's"),l=i.filter((function(e){return e.data.creators[0].address===a})),d=[],e.next=16,Promise.all(l.map(function(){var e=Object(r.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.data.uri);case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,d.push({name:t.data.name,mint:t.mint,src:r.image});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 16:setTimeout((function(){console.log(d,"imageResult"),L(d),M(!0),D("")}),5e3);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(r.a)(c.a.mark((function e(t,n,r,s){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.a.post("".concat(A,"/stake"),{wallet:t,nftAddress:n,url:r,name:s},{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS"}}).then((function(e){console.log("Response: ",e),le(t),ge()})).catch((function(e){console.log("Error:",e),ge()}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r,s){return e.apply(this,arguments)}}(),ie=function(){var t=Object(r.a)(c.a.mark((function t(n,r,s,o,a){var l,b,f,g,j,x,h,m,y,O,v,k,w,P,A,B,T,W,N,E,H,L,R,I,M;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(je(),J(!0),console.log("Check"),console.log(n,"nft"),console.log(r,"publicKey"),console.log(s,"sendTransaction"),r){t.next=8;break}throw new i.f;case 8:return l=new u.PublicKey("LCfgW9MzprPNFRbEes6HG8p9kbVShj1rvSks2Pzq8KR"),b=new u.PublicKey(n),f=new u.PublicKey("SysvarRent111111111111111111111111111111111"),g=new u.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),j=new u.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),x=new u.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),new u.PublicKey("cndy3Z4yapfJBmL3ShUp5exZKqR3z33thTzeNMm2gRZ"),h=new u.PublicKey("BrX5Kco4KM5upxYwU5q7KE8JrH2eDxD7WKjH1qr7TWVm"),m=new u.Connection(u.clusterApiUrl("devnet"),"confirmed"),new u.PublicKey("A3yGznBsuQmJCHSTp9SCqBzBSiLLo6RdMdqhWuaXfPd1"),t.next=20,u.PublicKey.findProgramAddress([e.from("metadata"),x.toBuffer(),b.toBuffer()],x);case 20:return y=(y=t.sent)[0],O=(new TextEncoder).encode("vault"),t.next=25,u.PublicKey.findProgramAddress([O],l);case 25:return v=(v=t.sent)[0],t.next=29,u.PublicKey.findProgramAddress([b.toBuffer()],l);case 29:return k=t.sent,w=k[0],t.next=33,u.PublicKey.findProgramAddress([r.toBuffer(),g.toBuffer(),b.toBuffer()],j);case 33:return P=t.sent[0],t.next=36,u.PublicKey.findProgramAddress([v.toBuffer(),g.toBuffer(),b.toBuffer()],j);case 36:return A=t.sent[0],t.next=39,d.Metadata.getPDA(new u.PublicKey(b));case 39:return B=t.sent,t.next=42,d.Metadata.load(m,B);case 42:return T=t.sent,console.log("tokenMetadata",T),t.next=46,u.PublicKey.findProgramAddress([e.from("whitelist"),h.toBuffer()],l);case 46:return W=(W=t.sent)[0],N=[{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!1},{pubkey:y,isSigner:!1,isWritable:!1},{pubkey:v,isSigner:!1,isWritable:!1},{pubkey:P,isSigner:!1,isWritable:!0},{pubkey:A,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!1},{pubkey:u.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:j,isSigner:!1,isWritable:!1},{pubkey:w,isSigner:!1,isWritable:!0},{pubkey:W,isSigner:!1,isWritable:!0}],E=new u.Transaction({feePayer:r}),H=S([K("instruction"),C("nft")]),L=e.alloc(1024),R=H.encode({instruction:1,nftPubkey:b},L),L=L.slice(0,R),E.add(new u.TransactionInstruction({keys:N,programId:l,data:L})),t.prev=55,t.next=58,s(E,m);case 58:return I=t.sent,t.next=61,m.confirmTransaction(I,"processed");case 61:(M=t.sent).value.err?(J(!1),console.log("STAKING",M.value.err),p.b.error("Error! ".concat(M.value.err),{position:"bottom-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),ge()):(ce(r.toString(),n,o,a),console.log("transaction confirmed STAKING",I),J(!1),oe(),p.b.success("Success! Staked Successfully.",{position:"bottom-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),ge()),t.next=71;break;case 65:t.prev=65,t.t0=t.catch(55),console.log("error STAKING:",t.t0),J(!1),p.b.error("Error! ".concat(t.t0),{position:"bottom-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),ge();case 71:case"end":return t.stop()}}),t,null,[[55,65]])})));return function(e,n,r,s,o){return t.apply(this,arguments)}}(),ae=function(){var e=Object(r.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.a.delete("".concat(A,"/unstake/").concat(n),{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS"}}).then((function(e){console.log("Response: ",e),oe(),le(t)})).catch((function(e){console.log("Error:",e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),le=function(){var e=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.a.get("".concat(A,"/stakeData/").concat(t.toString()),{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS"}}).then((function(e){X(e.data),console.log(" getStakeData Response: ",e.data),J(!1)})).catch((function(e){console.log("Error:",e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(b.useEffect)((function(){n&&(console.log("Check"),le(n.toString()),ee(!0))}),[n]);var ue=function(){var t=Object(r.a)(c.a.mark((function t(n,r,s){var o,a,l,b,f,g,j,x,h,m,y,O,v,k,w,P,A,B,T,W,N,E,H,L,R,I,M;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(J(!0),je(),console.log("Check"),r){t.next=5;break}throw new i.f;case 5:return o=new u.PublicKey("LCfgW9MzprPNFRbEes6HG8p9kbVShj1rvSks2Pzq8KR"),a=new u.PublicKey(n),l=new u.PublicKey("SysvarRent111111111111111111111111111111111"),b=new u.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),f=new u.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),g=new u.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),new u.PublicKey("cndy3Z4yapfJBmL3ShUp5exZKqR3z33thTzeNMm2gRZ"),j=new u.PublicKey("BrX5Kco4KM5upxYwU5q7KE8JrH2eDxD7WKjH1qr7TWVm"),x=new u.Connection(u.clusterApiUrl("devnet"),"confirmed"),h=new u.PublicKey("A3yGznBsuQmJCHSTp9SCqBzBSiLLo6RdMdqhWuaXfPd1"),t.next=17,u.PublicKey.findProgramAddress([e.from("metadata"),g.toBuffer(),a.toBuffer()],g);case 17:return m=(m=t.sent)[0],y=(new TextEncoder).encode("vault"),t.next=22,u.PublicKey.findProgramAddress([y],o);case 22:return O=(O=t.sent)[0],t.next=26,u.PublicKey.findProgramAddress([a.toBuffer()],o);case 26:return v=t.sent,k=v[0],t.next=30,u.PublicKey.findProgramAddress([r.toBuffer(),b.toBuffer(),a.toBuffer()],f);case 30:return w=t.sent[0],t.next=33,u.PublicKey.findProgramAddress([O.toBuffer(),b.toBuffer(),h.toBuffer()],f);case 33:return P=t.sent[0],t.next=36,u.PublicKey.findProgramAddress([O.toBuffer(),b.toBuffer(),a.toBuffer()],f);case 36:return A=t.sent[0],t.next=39,u.PublicKey.findProgramAddress([r.toBuffer(),b.toBuffer(),h.toBuffer()],f);case 39:return B=t.sent[0],t.next=42,d.Metadata.getPDA(new u.PublicKey(a));case 42:return T=t.sent,t.next=45,d.Metadata.load(x,T);case 45:return t.sent,t.next=48,u.PublicKey.findProgramAddress([e.from("whitelist"),j.toBuffer()],o);case 48:return W=(W=t.sent)[0],N=[{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:u.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:b,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:k,isSigner:!1,isWritable:!0},{pubkey:O,isSigner:!1,isWritable:!1},{pubkey:B,isSigner:!1,isWritable:!0},{pubkey:P,isSigner:!1,isWritable:!0},{pubkey:w,isSigner:!1,isWritable:!0},{pubkey:A,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:W,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!1}],E=new u.Transaction({feePayer:r}),H=S([K("instruction"),C("nft")]),L=e.alloc(1024),R=H.encode({instruction:2,nftPubkey:a},L),L=L.slice(0,R),E.add(new u.TransactionInstruction({keys:N,programId:o,data:L})),t.prev=57,t.next=60,s(E,x);case 60:return I=t.sent,t.next=63,x.confirmTransaction(I,"processed");case 63:(M=t.sent).value.err?(J(!1),console.log("STAKING",M.value.err),p.b.error("Error! ".concat(M.value.err),{position:"bottom-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),ge()):(ae(r.toString(),n),J(!1),console.log("transaction confirmed STAKING",I),p.b.success("Success! Untaked Successfully.",{position:"bottom-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),ge()),t.next=73;break;case 67:t.prev=67,t.t0=t.catch(57),J(!1),console.log("error STAKING:",t.t0),p.b.error("Error! ".concat(t.t0),{position:"bottom-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),ge();case 73:case"end":return t.stop()}}),t,null,[[57,67]])})));return function(e,n,r){return t.apply(this,arguments)}}(),de=Object(b.useState)(!1),be=Object(s.a)(de,2),fe=be[0],pe=be[1],ge=function(){pe(!1)},je=function(){console.log("handle show called"),pe(!0)};return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(k.a,{show:fe,handleClose:ge,string:"from 1"}),Object(w.jsx)("div",{style:{justifyContent:"center",display:"flex"}}),Object(w.jsx)(j.a,{className:"flex-container mt-5 ",style:{display:"flex"},children:Object(w.jsxs)(x.a,{children:[n&&(null===Q||void 0===Q?void 0:Q.length)>0&&Object(w.jsx)("h4",{className:"lower-content",children:" Bots Life Nfts Staked"}),n&&(null===Q||void 0===Q?void 0:Q.length)>0?null===Q||void 0===Q?void 0:Q.map((function(e,t){return Object(w.jsxs)(h.a,{xs:12,sm:12,md:4,lg:4,xl:4,style:{paddingRight:"30px",marginBottom:"25px"},children:[$&&Object(w.jsx)("div",{style:{alignItems:"center",display:"flex",justifyContent:"left"},children:Object(w.jsx)(m.a,{animation:"border",variant:"light"})}),Object(w.jsx)(y.a,{style:{height:"auto",width:"200px"},src:e.url,onLoad:function(){return console.log("image is loaded"),void ee(!1)}}),Object(w.jsx)("p",{className:"mt-3 lower-content",style:{color:"white"},children:e.name},t),Object(w.jsx)(f.a,{onClick:Object(r.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ue(e.nftAddress,n,o);case 2:case"end":return t.stop()}}),t)}))),disabled:!n||!e.nftAddress,variant:"danger",style:{width:"200px",borderRadius:"5px",marginBottom:"5px"},children:"UNSTAKE"})]})})):null,n&&H.length>0?Object(w.jsx)("h4",{className:"lower-content mb-3",children:"Bots Life Nfts in Wallet"}):Object(w.jsx)(w.Fragment,{children:n?Object(w.jsx)(w.Fragment,{children:H.length>0?Object(w.jsx)("h4",{className:"lower-content",children:"Checking Bots Life Nft in Wallet"}):Object(w.jsx)("h4",{className:"lower-content",children:"No  Bots Life Nft in Wallet"})}):Object(w.jsx)("h4",{className:"lower-content",children:"Connect Wallet"})}),n&&H.length>0?H.map((function(e,t){return Object(w.jsxs)(h.a,{xs:12,sm:12,md:4,lg:4,xl:4,style:{paddingRight:"30px",marginBottom:"25px"},children:[re&&Object(w.jsx)("div",{style:{alignItems:"center",display:"flex",justifyContent:"left"},children:Object(w.jsx)(m.a,{animation:"border",variant:"light"})}),Object(w.jsx)(y.a,{style:{height:"auto",width:"200px"},src:e.src,onLoad:function(){return console.log("image is loaded"),void se(!1)}}),Object(w.jsx)("p",{className:"mt-3 lower-content",style:{color:"white"},children:e.name},t),Object(w.jsx)(f.a,{onClick:Object(r.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ie(e.mint,n,o,e.src,e.name);case 2:case"end":return t.stop()}}),t)}))),disabled:!n||!e.mint,variant:"danger",style:{width:"200px",borderRadius:"5px",marginBottom:"5px"},children:"STAKE"}),Object(w.jsx)("br",{})]})})):Object(w.jsxs)("p",{className:"mt-3 lower-content",style:{color:"white"},children:[" ",z]})]})})]})}}).call(this,n(10).Buffer)},278:function(e,t,n){"use strict";n(2);var r=n(293),s=n(181),o=n(6);t.a=function(e){return console.log(e,"props"),Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(r.a,{show:e.show,onHide:function(){e.handleClose()},dialogClassName:"modal-90w ","aria-labelledby":"example-custom-modal-styling-title",centered:!0,children:Object(o.jsx)(r.a.Body,{style:{backgroundColor:"black",display:"flex"},children:Object(o.jsxs)("div",{style:{alignItems:"center",display:"flex",justifyContent:"left"},children:[Object(o.jsx)(s.a,{animation:"border",variant:"light"}),Object(o.jsx)("span",{className:"text-light",children:"Proccessing Transaction..."})]})})})})}},301:function(e,t,n){},303:function(e,t){},306:function(e,t){},315:function(e,t){},323:function(e,t){},324:function(e,t){},343:function(e,t){},379:function(e,t){},393:function(e,t){},395:function(e,t){},405:function(e,t){},407:function(e,t){},438:function(e,t){},440:function(e,t){},447:function(e,t){},448:function(e,t){},465:function(e,t){},484:function(e,t,n){"use strict";n(13),n(2),n(129),n(6)},488:function(e,t,n){},490:function(e,t){},492:function(e,t){},501:function(e,t){},503:function(e,t){},512:function(e,t){},513:function(e,t){},542:function(e,t,n){"use strict";n.r(t);var r=n(2),s=n.n(r),o=n(41),c=n.n(o),i=(n(301),n.p,n(182),n(13)),a=n(556),l=n(558),u=n(284),d=n(560),b=n(561),f=n(562),p=n(563),g=n(564),j=n(554),x=n(555),h=n(135),m=n(3),y=n(276),O=n(557),v=n(181),k=n(47),w=(n(4),n(1),n(543),n(559),n.p,n(488),n(83),n(6));n.p;var P=n.p+"static/media/bot_background.c444233c.jpg";n(489);var S=function(){var e=u.b.Devnet,t=Object(r.useMemo)((function(){return Object(m.clusterApiUrl)(e)}),[e]),n=Object(r.useMemo)((function(){return[Object(d.a)(),Object(b.a)(),Object(f.a)(),Object(p.a)({options:{clientId:"Get a client ID @ https://developer.tor.us"}}),Object(g.a)(),Object(j.a)({network:e}),Object(x.a)({network:e})]}),[e]);console.log(n,"wallets");var s=window.innerWidth;console.log(s,"width");var o=Object(r.useState)(!1),c=Object(i.a)(o,2),S=c[0];c[1];return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(a.a,{endpoint:t,children:Object(w.jsx)(l.a,{wallets:n,autoConnect:!0,children:Object(w.jsxs)(h.b,{children:[Object(w.jsxs)("div",{style:{background:"url(".concat(P,")"),backgroundRepeat:"no-repeat",backgroundSize:"contained",height:"50vh"},children:[Object(w.jsx)("h2",{className:"first-heading",style:{textAlign:"center",color:"white",fontSize:"50px"},children:"Welcome To The Bots Life Nft Staking!"}),Object(w.jsx)("div",{style:{display:"flex",alignItems:"center"},className:"mx-auto cs",children:Object(w.jsx)(O.a,{className:"mx-auto",style:{borderRadius:"10px",width:"25rem",display:"flex",justifySelf:"center",backgroundColor:"rgb(161, 96, 86)",border:"2px solid rgb(165, 96, 86)"},children:Object(w.jsx)(O.a.Body,{children:S?Object(w.jsx)("div",{style:{alignItems:"center",display:"flex",justifyContent:"center"},children:Object(w.jsx)(v.a,{animation:"border",variant:"light"})}):Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(O.a.Title,{style:{display:"flex",justifyContent:"space-around"},children:[" ",Object(w.jsx)(h.c,{style:{fontSize:s<=321?"11px":"15px",lineHeight:"15px",backgroundColor:"#4e44ce"}}),Object(w.jsx)(h.a,{onClick:function(){k.b.warning("Disconnected",{position:"bottom-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},style:{fontSize:s<=321?"11px":"15px",lineHeight:"15px",backgroundColor:"#4e44ce",marginLeft:"1px"}})]})})})})})]}),Object(w.jsx)(y.a,{})]})})})})};n(540);var C=function(){return Object(w.jsxs)("div",{className:" mb-5",children:[Object(w.jsx)(k.a,{position:"bottom-left",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,theme:"dark",pauseOnHover:!0}),Object(w.jsx)(S,{})]})};n(541);c.a.render(Object(w.jsx)(s.a.StrictMode,{children:Object(w.jsx)(C,{})}),document.getElementById("root"))}},[[542,1,2]]]);
//# sourceMappingURL=main.37e35893.chunk.js.map